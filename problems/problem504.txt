b"Problem\nA bracket sequence is made up of brackets '(' and ')'. We define a balanced bracket sequence as following:\n\nEmpty sequence is balanced\nIf PPP is balanced, (P)(P)(P) is also balanced\nIf PPP and QQQ are balanced, PQPQPQ is also balanced\n\nFor example, empty sequence and sequences (())()(())()(())(), ()()(), (()(()))(()(()))(()(())) are balanced. While (((, )()()(, (()(()(() and (()))((()))((()))( are not balanced.\nYou are given a bracket sequence AAA of length NNN and QQQ queries of the following form:\nLLL RRR : You are given two integers LLL and RRR (1\xe2\x89\xa4L\xe2\x89\xa4R\xe2\x89\xa4N)(1 \\le L \\le R \\le N)(1\xe2\x89\xa4L\xe2\x89\xa4R\xe2\x89\xa4N). Find the number of pairs (X,Y)(X, Y)(X,Y), where L\xe2\x89\xa4X\xe2\x89\xa4Y\xe2\x89\xa4RL \\le X \\le Y \\le RL\xe2\x89\xa4X\xe2\x89\xa4Y\xe2\x89\xa4R, such that after removing the substring A[X,Y]A_{[X,Y]}A[X,Y]\xe2\x80\x8b from A[L,R]A_{[L,R]}A[L,R]\xe2\x80\x8b,  the substring A[L,R]A_{[L , R]}A[L,R]\xe2\x80\x8b becomes a balanced bracket sequence.\nIn other words, for a given (L,R)(L, R)(L,R), find the number of pairs (X,Y)(X, Y)(X,Y), such that the sequence AL\xe2\x80\xa6AX\xe2\x88\x921AY+1\xe2\x80\xa6ARA_L \\ldots A_{X-1}A_{Y+1}\\ldots A_RAL\xe2\x80\x8b\xe2\x80\xa6AX\xe2\x88\x921\xe2\x80\x8bAY+1\xe2\x80\x8b\xe2\x80\xa6AR\xe2\x80\x8b is a balanced bracket sequence.\nNote that, A[L,R]A_{[L, R]}A[L,R]\xe2\x80\x8b denotes the substring ALAL+1AL+2\xe2\x80\xa6AR\xe2\x88\x921ARA_LA_{L+1}A_{L+2} \\ldots A_{R-1}A_RAL\xe2\x80\x8bAL+1\xe2\x80\x8bAL+2\xe2\x80\x8b\xe2\x80\xa6AR\xe2\x88\x921\xe2\x80\x8bAR\xe2\x80\x8b.\nInput Format\n\nThe first line of the input contains 222 integers NNN and QQQ - the size of the bracket sequence and the number of queries.\nThe second line contains a string AAA of length NNN - the bracket sequence.\nThe next QQQ lines, each contain two integers LiL_iLi\xe2\x80\x8b and RiR_iRi\xe2\x80\x8b - the queries to be answered.\n\nOutput Format\nPrint QQQ lines, representing the answer for each query.\nConstraints\n\n\n1\xe2\x89\xa4N\xe2\x89\xa430001 \\le N \\le 30001\xe2\x89\xa4N\xe2\x89\xa43000\n1\xe2\x89\xa4Q\xe2\x89\xa42\xe2\x8b\x851061 \\le Q \\le 2 \\cdot 10 ^ 61\xe2\x89\xa4Q\xe2\x89\xa42\xe2\x8b\x85106\n\n\nSubtasks\n\nSubtask #1 (100 points): original constraints\n\nSample 1:\nInputOutput10 3\n(()()((())\n1 4\n3 9\n7 9\n1\n2\n3\nExplanation:\n\nThe first query is (()((()((()(. The only valid removal is (()(. Thus, answer for this query is 111.\nThe second query is )()((())()((())()(((). The valid removals are )()((() and )()((().\nThe third query is (()(()((). The valid removals are ((), (() and (().\n\nSample 2:\nInputOutput10 3\n(())()()()\n1 10\n3 5\n5 10\n20\n1\n9\nExplanation:\n\nThe first query is the whole string.\n\nSome examples of valid removals in the first query are (())()()() and (())()()(). Total number of valid removals in this case is 202020."