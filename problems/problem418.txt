b"Problem\nYou are given an array AAA consisting of NNN integers. Calculate the number of ways to divide this array into subsegments, such that the sequence formed by taking bitwise AND in each segment of the partition is a palindrome.\nMore formally, consider a partition of the array into segments [L1,R1][L_1, R_1][L1\xe2\x80\x8b,R1\xe2\x80\x8b], [L2,R2][L_2, R_2][L2\xe2\x80\x8b,R2\xe2\x80\x8b], [L3,R3][L_3, R_3][L3\xe2\x80\x8b,R3\xe2\x80\x8b], \xe2\x80\xa6\\ldots\xe2\x80\xa6, [Lk,Rk][L_k, R_k][Lk\xe2\x80\x8b,Rk\xe2\x80\x8b] such that L1=1,L2=R1+1,L3=R2+1,\xe2\x80\xa6,Lk=Rk\xe2\x88\x921+1,Rk=NL_1 = 1, L_2 = R_1 + 1, L_3 = R_2 + 1, \\ldots, L_k = R_{k - 1} + 1, R_k = NL1\xe2\x80\x8b=1,L2\xe2\x80\x8b=R1\xe2\x80\x8b+1,L3\xe2\x80\x8b=R2\xe2\x80\x8b+1,\xe2\x80\xa6,Lk\xe2\x80\x8b=Rk\xe2\x88\x921\xe2\x80\x8b+1,Rk\xe2\x80\x8b=N. Let's define BiB_iBi\xe2\x80\x8b as AND on iii-th segment: Bi=ALi\xe2\x88\xa7\xe2\x80\xa6\xe2\x88\xa7ARiB_i=A_{L_i}\\land\\ldots\\land A_{R_i}Bi\xe2\x80\x8b=ALi\xe2\x80\x8b\xe2\x80\x8b\xe2\x88\xa7\xe2\x80\xa6\xe2\x88\xa7ARi\xe2\x80\x8b\xe2\x80\x8b, where x1\xe2\x88\xa7x2\xe2\x88\xa7\xe2\x80\xa6\xe2\x88\xa7xtx_1\\land x_2\\land \\ldots \\land x_tx1\xe2\x80\x8b\xe2\x88\xa7x2\xe2\x80\x8b\xe2\x88\xa7\xe2\x80\xa6\xe2\x88\xa7xt\xe2\x80\x8b, denotes bitwise AND of numbers x1,\xe2\x80\xa6,xtx_1, \\ldots, x_tx1\xe2\x80\x8b,\xe2\x80\xa6,xt\xe2\x80\x8b.\nA partition is palindromic if Bi=Bk+1\xe2\x88\x92iB_i=B_{k + 1 - i}Bi\xe2\x80\x8b=Bk+1\xe2\x88\x92i\xe2\x80\x8b for every 1\xe2\x89\xa4i\xe2\x89\xa4k1 \\le i \\le k1\xe2\x89\xa4i\xe2\x89\xa4k. Your task is to calculate the number of palindromic partitions. Since this number can be large, calculate it modulo 998244353998244353998244353.\nInput Format\n\nThe first line of input contains TTT \xe2\x80\x94 the number of test cases you need to solve.\nThe first line of each test case contains one integer NNN \xe2\x80\x94 the size of the array.\nThe second line of each test case contains NNN space-separated integers A1,\xe2\x80\xa6,ANA_1, \\ldots, A_NA1\xe2\x80\x8b,\xe2\x80\xa6,AN\xe2\x80\x8b \xe2\x80\x94 the elements of the array AAA.\n\nOutput Format\nFor each test case, output on a new line the number of ways to partition AAA into subsegments, such that the bitwise AND of these segments form a palindrome.\nConstraints\n\n\nT\xe2\x89\xa41500T \\le 1500T\xe2\x89\xa41500\n2\xe2\x89\xa4N\xe2\x89\xa430002 \\le N \\le 30002\xe2\x89\xa4N\xe2\x89\xa43000\nSum of NNN over all test cases is at most 300030003000.\n0\xe2\x89\xa4Ai<2300 \\le A_i \\lt 2^{30}0\xe2\x89\xa4Ai\xe2\x80\x8b<230\n\n\nSample 1:\nInputOutput3\n3\n1 1 1\n4\n3 4 5 6\n5\n1 1 0 1 0\n4\n1\n4\n\nExplanation:\nTest case 111: The palindromic partitions are {[1,3]},{[1],[2,3]},{[1,2],[3]},{[1],[2],[3]}\\{[1, 3]\\}, \\{[1], [2, 3]\\}, \\{[1, 2], [3]\\}, \\{[1], [2], [3]\\}{[1,3]},{[1],[2,3]},{[1,2],[3]},{[1],[2],[3]}. To see why:\n\nFor {[1,3]}\\{[1, 3]\\}{[1,3]}, B=[A1\xe2\x88\xa7A2\xe2\x88\xa7A3]=[1]B = [A_1 \\land A_2 \\land A_3] = [1]B=[A1\xe2\x80\x8b\xe2\x88\xa7A2\xe2\x80\x8b\xe2\x88\xa7A3\xe2\x80\x8b]=[1]\nFor {[1],[2,3]}\\{[1], [2, 3]\\}{[1],[2,3]}, B=[A1,A2\xe2\x88\xa7A3]=[1,1]B = [A_1, A_2 \\land A_3] = [1, 1]B=[A1\xe2\x80\x8b,A2\xe2\x80\x8b\xe2\x88\xa7A3\xe2\x80\x8b]=[1,1]\nFor {[1,2],[3]}\\{[1, 2], [3]\\}{[1,2],[3]}, B=[A1\xe2\x88\xa7A2,A3]=[1,1]B = [A_1 \\land A_2, A_3] = [1, 1]B=[A1\xe2\x80\x8b\xe2\x88\xa7A2\xe2\x80\x8b,A3\xe2\x80\x8b]=[1,1]\nFor {[1],[2],[3]}\\{[1], [2], [3]\\}{[1],[2],[3]}, B=[A1,A2,A3]=[1,1,1]B = [A_1, A_2, A_3] = [1, 1, 1]B=[A1\xe2\x80\x8b,A2\xe2\x80\x8b,A3\xe2\x80\x8b]=[1,1,1]\n\nClearly BBB is a palindrome in all 444 cases.\nTest case 222: The only palindromic partition is {[1,4]}\\{[1, 4]\\}{[1,4]}.\nTest case 333: The palindromic partitions are {[1,3],[4,5]},{[1,3],[4],[5]},{[1,4],[5]},{[1,5]}\\{[1, 3], [4, 5]\\}, \\{[1, 3], [4], [5]\\}, \\{[1, 4], [5]\\}, \\{[1, 5]\\}{[1,3],[4,5]},{[1,3],[4],[5]},{[1,4],[5]},{[1,5]}."