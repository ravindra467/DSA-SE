b"Problem\nYou are given an array AAA containing NNN integers, and a positive integer MMM. Find the maximum value of\nAi+Aj+((Ai\xe2\x88\x92Aj)\xe2\x80\x8amod\xe2\x80\x8aM)A_i + A_j + ((A_i - A_j) \\bmod M)Ai\xe2\x80\x8b+Aj\xe2\x80\x8b+((Ai\xe2\x80\x8b\xe2\x88\x92Aj\xe2\x80\x8b)modM)\nacross all pairs 1\xe2\x89\xa4i,j\xe2\x89\xa4N1 \\leq i, j \\leq N1\xe2\x89\xa4i,j\xe2\x89\xa4N.\nNote that x\xe2\x80\x8amod\xe2\x80\x8aMx \\bmod MxmodM refers to the smallest non-negative integer obtained as the remainder upon dividing xxx by MMM. For example, 4\xe2\x80\x8amod\xe2\x80\x8a3=14 \\bmod 3 = 14mod3=1 and (\xe2\x88\x9210)\xe2\x80\x8amod\xe2\x80\x8a3=2(-10) \\bmod 3 = 2(\xe2\x88\x9210)mod3=2.\nInput Format\n\nThe first line of input will contain a single integer TTT, the number of test cases. The description of test cases follows.\nEach test case consists of two lines of input.\nThe first line of each test case contains two space-separated integers NNN and MMM.\nThe second line of each test case contains NNN space-separated integers A1,A2,\xe2\x80\xa6,ANA_1, A_2, \\ldots, A_NA1\xe2\x80\x8b,A2\xe2\x80\x8b,\xe2\x80\xa6,AN\xe2\x80\x8b.\n\nOutput Format\n\nFor each test case, output on a new line the maximum value of Ai+Aj+((Ai\xe2\x88\x92Aj)\xe2\x80\x8amod\xe2\x80\x8aM)A_i + A_j + ((A_i - A_j) \\bmod M)Ai\xe2\x80\x8b+Aj\xe2\x80\x8b+((Ai\xe2\x80\x8b\xe2\x88\x92Aj\xe2\x80\x8b)modM).\n\nConstraints\n\n\n1\xe2\x89\xa4T\xe2\x89\xa41001 \\leq T \\leq 1001\xe2\x89\xa4T\xe2\x89\xa4100\n2\xe2\x89\xa4N\xe2\x89\xa42\xe2\x8b\x851052 \\leq N \\leq 2\\cdot 10^52\xe2\x89\xa4N\xe2\x89\xa42\xe2\x8b\x85105\n2\xe2\x89\xa4M\xe2\x89\xa45\xe2\x8b\x851082 \\leq M \\leq 5\\cdot 10^82\xe2\x89\xa4M\xe2\x89\xa45\xe2\x8b\x85108\n0\xe2\x89\xa4Ai\xe2\x89\xa45\xe2\x8b\x851080 \\leq A_i \\leq 5\\cdot 10^80\xe2\x89\xa4Ai\xe2\x80\x8b\xe2\x89\xa45\xe2\x8b\x85108\nThe sum of NNN across all test cases won't exceed 2\xe2\x8b\x851052\\cdot 10^52\xe2\x8b\x85105.\n\n\nSubtasks\n\n\nSubtask 1 (10 points):\n\nThe sum of NNN across all test cases won't exceed 100010001000\n\n\nSubtask 2 (20 points):\n\n2\xe2\x89\xa4M\xe2\x89\xa410002 \\leq M \\leq 10002\xe2\x89\xa4M\xe2\x89\xa41000\n\n\nSubtask 3 (70 points):\n\nOriginal constraints\n\n\n\n\nSample 1:\nInputOutput4\n2 18\n12 1\n3 5\n4 5 6\n5 4\n79 29 80 58 80\n3 20\n33 46 56\n24\n15\n162\n112\nExplanation:\nTest case 111: There are 444 possible pairs of indices to choose from. Their respective values are:\n\ni=1,j=1i = 1, j = 1i=1,j=1, giving 12+12+((12\xe2\x88\x9212)\xe2\x80\x8amod\xe2\x80\x8a18)=24+0=2412 + 12 + ((12 - 12) \\bmod 18) = 24 + 0 = 2412+12+((12\xe2\x88\x9212)mod18)=24+0=24\ni=1,j=2i = 1, j = 2i=1,j=2, giving 12+1+((12\xe2\x88\x921)\xe2\x80\x8amod\xe2\x80\x8a18)=13+11=2412 + 1 + ((12 - 1) \\bmod 18) = 13 + 11 = 2412+1+((12\xe2\x88\x921)mod18)=13+11=24\ni=2,j=1i = 2, j = 1i=2,j=1, giving 1+12+((1\xe2\x88\x9212)\xe2\x80\x8amod\xe2\x80\x8a18)=13+7=201 + 12 + ((1 - 12) \\bmod 18) = 13 + 7 = 201+12+((1\xe2\x88\x9212)mod18)=13+7=20\ni=2,j=2i = 2, j = 2i=2,j=2, giving 1+1+((1\xe2\x88\x921)\xe2\x80\x8amod\xe2\x80\x8a18)=2+0=21 + 1 + ((1 - 1) \\bmod 18) = 2 + 0 = 21+1+((1\xe2\x88\x921)mod18)=2+0=2\n\nOf these, the largest value is 242424.\nTest case 222: There are 3\xc3\x973=93\\times 3 = 93\xc3\x973=9 choices for pairs (i,j)(i, j)(i,j). Of these, one way to achieve the maximum is by choosing i=2,j=3i = 2, j = 3i=2,j=3, giving 5+6+((5\xe2\x88\x926)\xe2\x80\x8amod\xe2\x80\x8a5)=11+4=155 + 6 + ((5 - 6) \\bmod 5) = 11 + 4 = 155+6+((5\xe2\x88\x926)mod5)=11+4=15.\nTest case 333: Picking i=1,j=3i = 1, j = 3i=1,j=3 gives a value of 79+80+((79\xe2\x88\x9280)\xe2\x80\x8amod\xe2\x80\x8a4)=159+3=16279 + 80 + ((79 - 80) \\bmod 4) = 159 + 3 = 16279+80+((79\xe2\x88\x9280)mod4)=159+3=162, which is the largest possible.\nTest case 444: Picking i=3,j=2i = 3, j = 2i=3,j=2 gives a value of 56+46+((56\xe2\x88\x9246)\xe2\x80\x8amod\xe2\x80\x8a20)=102+10=11256 + 46 + ((56 - 46) \\bmod 20) = 102 + 10 = 11256+46+((56\xe2\x88\x9246)mod20)=102+10=112, which is the largest possible."