b'Problem\n Read problems statements in Mandarin Chinese , Russian and  Vietnamese\n\nChef is going to leave his home town and shift to a new city. The new city contains exactly N houses. There are roads connecting the houses in such a way that there is exactly one way to go from a house to any other house. Length of each of the roads is known to Chef.\n\n\nChief is doing a lot of research before shifting to the new city. He wants to know how many pairs of houses (a,b) are there, such that if we multiply length of all the roads on the path from a to b, the product will be divisible by M.\n\nInput\n\n\nFirst line of the input contains a pair of  integers N and M, where N denotes the number of houses.  \n\n\nEach of the next (N-1) lines contains a triplet of numbers (a,b,c) which will denote that the length of the road between houses a and b is c.\n\n\nOutput\nA single integer denoting the number of pair of houses. \nConstraints\n\n1 \xe2\x89\xa4 M \xe2\x89\xa4 500\n1 \xe2\x89\xa4 weight of the road \xe2\x89\xa4 109\n\n\nSubtask #1: 20 points\n\n1 \xe2\x89\xa4 N \xe2\x89\xa4 105\nM is a prime\n\nSubtask #2: 20 points\n\n1 \xe2\x89\xa4 N \xe2\x89\xa4 1000\n\nSubtask #3: 60 points\n\n1 \xe2\x89\xa4 N \xe2\x89\xa4 105\n\nSample 1:\nInputOutput4 2\n1 3 4\n1 2 4\n1 4 46\nExplanation:\nIf we multiply the lengths of the roads on the path between any pair of the vertices, it will be divisible by 2.'